<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic-Tac-Toe</title>
<style>
  body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; }
  #board { display: grid; grid-template-columns: repeat(3, 100px); grid-gap: 5px; margin-top: 20px; }
  .cell { width: 100px; height: 100px; display: flex; align-items: center; justify-content: center; font-size: 2em; background: #f0f0f0; cursor: pointer; }
  .cell.taken { cursor: not-allowed; background: #ddd; }
</style>
</head>
<body>
<h1>Tic-Tac-Toe</h1>
<div id="board">
  <div class="cell" data-index="0"></div>
  <div class="cell" data-index="1"></div>
  <div class="cell" data-index="2"></div>
  <div class="cell" data-index="3"></div>
  <div class="cell" data-index="4"></div>
  <div class="cell" data-index="5"></div>
  <div class="cell" data-index="6"></div>
  <div class="cell" data-index="7"></div>
  <div class="cell" data-index="8"></div>
</div>
<p id="status"></p>

<script>
const board = Array(9).fill("");
const cells = document.querySelectorAll(".cell");
const status = document.getElementById("status");

function checkWinner(b) {
  const lines = [
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];
  for (const [a,b1,c] of lines) {
    if (b[a] && b[a]===b[b1] && b[a]===b[c]) return b[a];
  }
  if (b.every(cell => cell)) return "draw";
  return null;
}

function botMove() {
  let empty = board.map((v,i)=>v?null:i).filter(i=>i!==null);
  let move = empty[Math.floor(Math.random()*empty.length)];
  board[move] = "O";
  cells[move].textContent = "O";
  cells[move].classList.add("taken");
}

cells.forEach(cell => {
  cell.addEventListener("click", ()=>{
    const idx = cell.dataset.index;
    if (board[idx]) return;
    board[idx] = "X";
    cell.textContent = "X";
    cell.classList.add("taken");
    let winner = checkWinner(board);
    if (winner) {
      status.textContent = winner==="draw"?"Draw!":winner+" won!";
      return;
    }
    botMove();
    winner = checkWinner(board);
    if (winner) status.textContent = winner==="draw"?"Draw!":winner+" won!";
  });
});
</script>
</body>
</html>
